[gd_scene load_steps=10 format=3 uid="uid://3h4ychvi0yw0"]

[ext_resource type="Script" path="res://Perspectives/PC/PlayerController.gd" id="1"]
[ext_resource type="Script" path="res://Perspectives/PC/SettingsCamera.gd" id="2"]
[ext_resource type="Script" path="res://Perspectives/PC/VRDirectionIndicator.gd" id="4"]
[ext_resource type="Script" path="res://Editing/ActionHandler.gd" id="4_ru6dm"]
[ext_resource type="PackedScene" uid="uid://cuiempx2ao4sm" path="res://Perspectives/PC/MousePoint.tscn" id="5"]
[ext_resource type="PackedScene" path="res://Perspectives/Tracking/ParentTracker.tscn" id="7"]
[ext_resource type="Script" path="res://Communication/SetPositionRequestHandler.gd" id="8"]
[ext_resource type="Texture2D" uid="uid://bxy40aj51eghh" path="res://Resources/Icons/ModernLandscapeLab/positionindicator.svg" id="9"]

[sub_resource type="SeparationRayShape3D" id="1"]
length = 1.65

[node name="FirstPersonPC" type="CharacterBody3D" groups=["ShiftingSpatial"]]
transform = Transform3D(0.999978, 0, 0, 0, 1, 0, 0, 0, 0.999978, 0, 0, 0)
collision_layer = 16387
collision_mask = 16385
script = ExtResource("1")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(1.00002, 0, 0, 0, 1, 0, 0, 0, 1.00002, 0, 0, 0)
cull_mask = 1079
doppler_tracking = 2
near = 0.15
script = ExtResource("2")
setting_title = "player"

[node name="MousePoint" parent="Head/Camera3D" instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.66, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 1.77636e-15, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.656, 0.1)
shape = SubResource("1")

[node name="ActionHandler" type="Node" parent="."]
script = ExtResource("4_ru6dm")
perspective_prefix = "3D"
cursor_path = NodePath("../Head/Camera3D/MousePoint")

[node name="ParentTracker" parent="." instance=ExtResource("7")]

[node name="SetPositionRequestHandler" type="Node" parent="."]
script = ExtResource("8")
target_path = NodePath("..")

[node name="VRDirectionIndicator" type="TextureRect" parent="."]
visible = false
offset_right = 16.0
offset_bottom = 16.0
texture = ExtResource("9")
expand_mode = 1
script = ExtResource("4")
vr_camera_path = NodePath("../SubViewport/XROrigin3D/XRCamera3D")

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="."]
remote_path = NodePath("../SubViewport/XROrigin3D")
update_rotation = false
update_scale = false

[node name="SubViewport" type="SubViewport" parent="."]
use_xr = true
screen_space_aa = 1
positional_shadow_atlas_size = 0
size = Vector2i(0, 0)
render_target_update_mode = 4

[node name="XROrigin3D" type="XROrigin3D" parent="SubViewport"]
current = true

[node name="LeftHand" type="XRController3D" parent="SubViewport/XROrigin3D"]
tracker = &"left_hand"

[node name="RightHand" type="XRController3D" parent="SubViewport/XROrigin3D"]
tracker = &"right_hand"

[node name="XRCamera3D" type="XRCamera3D" parent="SubViewport/XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.67, 0)
cull_mask = 1079
current = true
near = 0.15
